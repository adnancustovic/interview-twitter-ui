<div class="col-md-6 col-md-offset-3">
  <h2>Register</h2>
  <form class="form-horizontal" [formGroup]="registerForm" (ngSubmit)="register(registerForm)">
      <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" id="name" formControlName="name"/>
          <div *ngIf="(name.invalid && name.touched)"class="text-danger">Name is required</div>
      </div>
      <div class="form-group" >
          <label for="surname">Surname</label>
          <input type="text" class="form-control" id="surname"  formControlName="surname"/>
          <div *ngIf="(surname.invalid && surname.touched)"class="text-danger">Surname is required</div>
      </div>
      <div class="form-group" >
          <label for="username">Username</label>
          <input type="text" class="form-control" name="username" formControlName="username" />
          <div *ngIf="(username.invalid && username.touched)" class="text-danger">
              <div *ngIf = "username.errors?.required" >
                  Username is required
              </div>
              <div *ngIf = "registerForm.controls['username'].hasError('usernameTaken')">
                  Username is already taken
              </div>
            </div>
      </div>
      <div class="form-group" >
          <label for="password">Password</label>
          <input type="password" class="form-control" name="password"  placeholder="at least 6 characters"
          formControlName="password"/>
          <div *ngIf="(password.invalid && password.touched)"class="text-danger">Password needs to be at least 6 characters</div>
      </div>
      <div class="form-group">
          <button [disabled] = "!registerForm.valid || loading" class="btn btn-primary">Register</button>
          <a [routerLink]="['/login']" class="btn btn-link">Cancel</a>
      </div>
  </form>
</div>
